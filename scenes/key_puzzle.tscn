[gd_scene load_steps=9 format=3 uid="uid://c82smo0lus123"]

[ext_resource type="Texture2D" uid="uid://b77ghx1j3srmu" path="res://assets/sprites/puzzles/zamok.png" id="1_cqv86"]
[ext_resource type="Texture2D" uid="uid://cm0bvhnvfucon" path="res://assets/sprites/puzzles/pin.png" id="2_krojo"]
[ext_resource type="Texture2D" uid="uid://c6bahengsywvd" path="res://assets/sprites/puzzles/key.png" id="3_wjeou"]
[ext_resource type="Script" path="res://scenes/Key2.gd" id="4_8nio5"]
[ext_resource type="Texture2D" uid="uid://cwm03lgxw1qkl" path="res://assets/sprites/puzzles/key2.png" id="4_b4tog"]
[ext_resource type="Script" path="res://scripts/Key.gd" id="4_ohur2"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ny28e"]
bounce = 0.1

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0nxeu"]
size = Vector2(21, 4.5)

[node name="key_puzzle" type="Node2D"]

[node name="Zamok" type="StaticBody2D" parent="."]
position = Vector2(147, 81)
rotation = -1.5708

[node name="TextureRect" type="TextureRect" parent="Zamok"]
offset_left = -29.9999
offset_top = -35.0001
offset_right = 30.0001
offset_bottom = 34.9999
texture = ExtResource("1_cqv86")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Zamok"]
visible = false
polygon = PackedVector2Array(19.9999, 26.0001, -5.00009, 26, -5.00008, 21, 15.9999, 21.0001, 16, 2.00006, -5.00001, 1.99998, -4.99999, -1.00002, -9.99999, -1.00005, -10.0001, 26, -20.0001, 25.9999, -20, -6.00008, 20, -5.99992)

[node name="Key" type="CharacterBody2D" parent="."]
top_level = true
position = Vector2(167, 90)
script = ExtResource("4_ohur2")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Key"]
visible = false
position = Vector2(6.00002, -3)
polygon = PackedVector2Array(8, 2, 8, 3, -22, 3, -22, 0, -21, 0, -21, 2)

[node name="TextureRect" type="TextureRect" parent="Key"]
offset_left = -16.0
offset_top = -13.0
offset_right = 14.0
offset_bottom = 7.0
texture = ExtResource("3_wjeou")

[node name="Key2" type="CharacterBody2D" parent="."]
position = Vector2(194, 93)
script = ExtResource("4_8nio5")

[node name="TextureRect" type="TextureRect" parent="Key2"]
offset_left = -15.0
offset_top = -7.0
offset_right = 15.0
offset_bottom = 13.0
texture = ExtResource("4_b4tog")
flip_v = true

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Key2"]
visible = false
polygon = PackedVector2Array(-15, -1, 14, -1, 14, 0, 15, 0, 15, 4, 14, 4, 14, 5, 5, 5, 5, 4, 4, 4, 4, 2, 5, 2, 5, 1, -15, 1)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(178, 87)
zoom = Vector2(7, 7)

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(131, 32)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
visible = false
polygon = PackedVector2Array(135, 1, 136, 106, -45, 106, -45, 3, -35, 9, -35, 101, 129, 101, 129, 9, -35, 9, -45, 3)

[node name="Pin1" type="RigidBody2D" parent="."]
position = Vector2(151, 75)
rotation = -1.57079
mass = 0.01
physics_material_override = SubResource("PhysicsMaterial_ny28e")
gravity_scale = 0.02

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pin1"]
visible = false
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_0nxeu")

[node name="TextureRect" type="TextureRect" parent="Pin1"]
offset_left = -15.0
offset_top = -12.0
offset_right = 15.0
offset_bottom = 8.00003
texture = ExtResource("2_krojo")

[node name="Pin2" type="RigidBody2D" parent="."]
position = Vector2(158, 75)
rotation = -1.57079
mass = 0.04
gravity_scale = 0.0
sleeping = true
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pin2"]
visible = false
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_0nxeu")

[node name="TextureRect" type="TextureRect" parent="Pin2"]
offset_left = -15.0
offset_top = -12.0
offset_right = 15.0
offset_bottom = 8.00003
texture = ExtResource("2_krojo")

[node name="Pin3" type="RigidBody2D" parent="."]
position = Vector2(165, 75)
rotation = -1.57079
mass = 0.04
gravity_scale = 0.0
sleeping = true
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pin3"]
visible = false
position = Vector2(-0.5, 0.5)
shape = SubResource("RectangleShape2D_0nxeu")

[node name="TextureRect" type="TextureRect" parent="Pin3"]
offset_left = -15.0
offset_top = -12.0
offset_right = 15.0
offset_bottom = 8.00003
texture = ExtResource("2_krojo")
